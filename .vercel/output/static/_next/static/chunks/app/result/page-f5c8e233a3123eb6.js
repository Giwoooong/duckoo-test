(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[834],{63:(e,s,t)=>{"use strict";var a=t(7260);t.o(a,"usePathname")&&t.d(s,{usePathname:function(){return a.usePathname}}),t.o(a,"useRouter")&&t.d(s,{useRouter:function(){return a.useRouter}}),t.o(a,"useSearchParams")&&t.d(s,{useSearchParams:function(){return a.useSearchParams}})},688:(e,s,t)=>{"use strict";t.d(s,{default:()=>N});var a=t(5155),r=t(2619),c=t.n(r),l=t(63),n=t(2115),i=t(5121);let o=(0,i.A)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]);var d=t(5937);let h=(0,i.A)("instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);var u=t(7378),m=t(7181),x=t(4264),p=t.n(x);function j(e,s){return"lol"===s?e<=15?"아이언":e<=30?"브론즈":e<=45?"실버":e<=60?"골드":e<=75?"플래티넘":e<=85?"다이아몬드":e<=95?"마스터":"챌린저":e<=30?"입문 항해사":e<=60?"위대한 항로 루키":e<=85?"신세계 정예":"해적왕급 마스터"}function N(){var e;let[s,t]=(0,n.useState)(null),[r,i]=(0,n.useState)(!1),x=null!=(e=(0,l.useSearchParams)().get("theme"))?e:"onepiece",N=(0,n.useRef)(null);(0,n.useEffect)(()=>{let e=localStorage.getItem("duckoo-last-result");if(!e)return void i(!0);try{let s=JSON.parse(e);s.themeId===x&&t(s)}catch(e){t(null)}i(!0)},[x]);let w=(0,n.useMemo)(()=>s?s.review.filter(e=>e.selectedIndex!==e.answerIndex):[],[s]),f=s?"[".concat(s.themeName,"] ").concat(s.player," 님은 ").concat(s.score,"점 (").concat(j(s.score,s.themeId),") 달성!\n\n내 덕력 확인하기: ").concat(window.location.href):"",y=async()=>{if(N.current)try{N.current.classList.add("downloading");let e=await p()(N.current,{scale:2,useCORS:!0,backgroundColor:"#ffffff"});N.current.classList.remove("downloading");let t=e.toDataURL("image/png"),a=document.createElement("a");a.href=t,a.download="duckoo_certificate_".concat((null==s?void 0:s.player)||"result",".png"),a.click()}catch(e){console.error("인증서 저장 실패:",e),alert("이미지 저장 중 오류가 발생했습니다.")}},v=async()=>{if(navigator.share)try{await navigator.share({title:"덕후테스트 결과",text:f,url:window.location.href}),console.log("공유 성공!")}catch(e){console.error("공유 실패:",e)}else navigator.clipboard.writeText("".concat(f)),window.alert("링크와 텍스트가 클립보드에 복사되었습니다.")};return r?s?(0,a.jsx)("div",{className:"shell result-shell",children:(0,a.jsx)("main",{className:"panel glass result-panel",children:(0,a.jsxs)("div",{className:"quiz-content-wrapper result-wrapper",children:[(0,a.jsxs)("p",{className:"chip",children:[s.themeName," RESULT"]}),(0,a.jsx)("h1",{className:"result-title",children:"덕력 검증 결과"}),(0,a.jsxs)("div",{className:"certificate-container",children:[(0,a.jsx)("section",{className:"certificate premium-cert",ref:N,children:(0,a.jsxs)("div",{className:"cert-inner",children:[(0,a.jsxs)("div",{className:"cert-header",children:[(0,a.jsx)("p",{className:"certLabel",children:"OFFICIAL CERTIFICATE"}),(0,a.jsx)("h2",{children:"덕후 인증서"})]}),(0,a.jsxs)("div",{className:"cert-body",children:[(0,a.jsxs)("div",{className:"cert-info",children:[(0,a.jsx)("span",{className:"info-label",children:"수여자"}),(0,a.jsx)("strong",{className:"info-value",children:s.player})]}),(0,a.jsxs)("div",{className:"cert-score-area",children:[(0,a.jsxs)("p",{className:"certScore",children:[s.score,(0,a.jsx)("span",{children:"점"})]}),(0,a.jsx)("p",{className:"certRank",children:j(s.score,s.themeId)})]}),(0,a.jsxs)("div",{className:"cert-details",children:[(0,a.jsxs)("p",{children:[s.totalCount,"문제 중 ",(0,a.jsx)("strong",{children:s.correct}),"개 정답"]}),(0,a.jsxs)("p",{className:"detail-points",children:["(",s.rawPoints,"/",s.totalPoints,"점)"]})]})]}),(0,a.jsx)("div",{className:"cert-footer",style:{justifyContent:"center"},children:(0,a.jsx)("div",{className:"cert-stamp",children:"DUCKOO TEST"})})]})}),(0,a.jsxs)("button",{type:"button",className:"downloadButton",onClick:y,children:[(0,a.jsx)(o,{size:20,className:"icon-left"}),"인증서 저장하기"]})]}),(0,a.jsxs)("div",{className:"share-section",children:[(0,a.jsx)("p",{className:"share-prompt",children:"내 덕력 자랑하기"}),(0,a.jsxs)("div",{className:"share-buttons",children:[(0,a.jsx)("button",{type:"button",className:"social-btn kakao-btn",onClick:()=>{window.alert("카카오톡 공유 API 통합이 필요합니다 (현재는 링크를 복사하여 공유해주세요).")},"aria-label":"카카오톡으로 공유",children:(0,a.jsx)(d.A,{size:24})}),(0,a.jsx)("button",{type:"button",className:"social-btn ig-btn",onClick:()=>{window.alert("인스타그램 공유를 위해서는 '인증서 저장' 버튼을 눌러 이미지를 저장한 후 업로드 해주세요.")},"aria-label":"인스타그램으로 공유",children:(0,a.jsx)(h,{size:24})}),(0,a.jsx)("button",{type:"button",className:"social-btn x-btn",onClick:()=>{window.open("https://twitter.com/intent/tweet?text=".concat(encodeURIComponent(f)),"_blank")},"aria-label":"X로 공유",children:(0,a.jsx)(u.A,{size:24})}),(0,a.jsx)("button",{type:"button",className:"social-btn link-btn",onClick:v,"aria-label":"기타 공유",children:(0,a.jsx)(m.A,{size:24})})]})]}),(0,a.jsxs)("div",{className:"action-row",children:[(0,a.jsx)(c(),{href:"/test/".concat(x),className:"ghostButton action-btn",children:"다시 도전"}),(0,a.jsx)(c(),{href:"/",className:"startButton action-btn",children:"다른 테스트 하기"})]}),(0,a.jsxs)("section",{className:"reviewSection",children:[(0,a.jsx)("h3",{children:"오답 노트"}),0===w.length?(0,a.jsx)("div",{className:"perfect-score card-base-styles",children:(0,a.jsx)("p",{className:"lead",children:"틀린 문제가 없습니다! 완벽한 마스터입니다. \uD83C\uDF89"})}):(0,a.jsx)("ul",{className:"wrong-list",children:w.map((e,s)=>{let t=null===e.selectedIndex?"미응답":e.options[e.selectedIndex];return(0,a.jsxs)("li",{className:"wrong-item glass",children:[(0,a.jsxs)("strong",{className:"wrong-q",children:["Q. ",e.question]}),(0,a.jsxs)("div",{className:"wrong-answers",children:[(0,a.jsxs)("div",{className:"your-answer",children:[(0,a.jsx)("span",{className:"label",children:"내가 선택한 답"}),(0,a.jsx)("p",{className:"value incorrect",children:t})]}),(0,a.jsxs)("div",{className:"correct-answer",children:[(0,a.jsx)("span",{className:"label",children:"정답"}),(0,a.jsx)("p",{className:"value correct",children:e.options[e.answerIndex]})]})]})]},"".concat(e.question,"-").concat(s))})})]})]})})}):(0,a.jsx)("div",{className:"shell",children:(0,a.jsx)("main",{className:"panel card-base-styles",children:(0,a.jsxs)("div",{className:"quiz-content-wrapper",children:[(0,a.jsx)("h1",{children:"결과 정보가 없습니다"}),(0,a.jsx)("p",{className:"lead",children:"홈에서 테스트를 다시 시작해주세요."}),(0,a.jsx)(c(),{href:"/",className:"startButton",children:"홈으로 이동"})]})})}):null}},5121:(e,s,t)=>{"use strict";t.d(s,{A:()=>i});var a=t(2115);let r=function(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return s.filter((e,s,t)=>!!e&&""!==e.trim()&&t.indexOf(e)===s).join(" ").trim()},c=e=>{let s=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,s,t)=>t?t.toUpperCase():s.toLowerCase());return s.charAt(0).toUpperCase()+s.slice(1)};var l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let n=(0,a.forwardRef)((e,s)=>{let{color:t="currentColor",size:c=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:o="",children:d,iconNode:h,...u}=e;return(0,a.createElement)("svg",{ref:s,...l,width:c,height:c,stroke:t,strokeWidth:i?24*Number(n)/Number(c):n,className:r("lucide",o),...!d&&!(e=>{for(let s in e)if(s.startsWith("aria-")||"role"===s||"title"===s)return!0;return!1})(u)&&{"aria-hidden":"true"},...u},[...h.map(e=>{let[s,t]=e;return(0,a.createElement)(s,t)}),...Array.isArray(d)?d:[d]])}),i=(e,s)=>{let t=(0,a.forwardRef)((t,l)=>{let{className:i,...o}=t;return(0,a.createElement)(n,{ref:l,iconNode:s,className:r("lucide-".concat(c(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),"lucide-".concat(e),i),...o})});return t.displayName=c(e),t}},5937:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(5121).A)("message-circle",[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]])},7181:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(5121).A)("share-2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]])},7378:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(5121).A)("twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]])},8346:(e,s,t)=>{Promise.resolve().then(t.bind(t,688))}},e=>{e.O(0,[316,619,441,255,358],()=>e(e.s=8346)),_N_E=e.O()}]);